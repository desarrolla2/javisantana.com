<!doctype html>
<html>
	<head>
		<title>JS1k, 1k demo submission [ID]</title>
		<meta charset="utf-8" />
	</head>
	<body>
		<canvas id="c"></canvas>
		<script>
			var b = document.body;
			var c = document.getElementsByTagName('canvas')[0];
			var a = c.getContext('2d');
			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218
		</script>
		<script>function r(a){return(a<<5^a*1243+123)&255}J=V=t=j=s=0,P=40,f='fillStyle',a.R=a.fillRect,a.l=a.lineTo,a.m=a.moveTo,a.T=a.fillText,_='#FFF',setInterval("c.width=W=500,c.height=H=150,l=a.createLinearGradient(0,W,0,0),l.A=l.addColorStop,l.A(0,_),l.A(1,a.shadowColor='#444'),a[f]=l,a.R(0,0,W,H),k=30;for(d=4;d!=0;d--){a.save(),m=t/d,a.translate(-60-m%k,D=H-P*.5/d+30);for(i=0;i<20;++i){p=(m/k|0)+i+10*d,a.translate(k,0),h=-r(p)*d/10,w=d*r(p*4)/4,A=0,B=w/3,C=w-B,a.shadowBlur=d*2,c=2*(d>1?1:0);while(c--)with(a)beginPath(),m(B,h),l(c?w:A,0),l(C,0),l(B,h),a[f]=d==4?'#444':d==3?'#555':c?'#888':'#bbb',fill(),closePath();d==1&&p&1&&(x=r(p<<4),h=r(p)/3,a[f]='#111',a.R(0,-x,30,h),a[f]='#333',a.R(2,-x+2,26,h-4),x=D-x,J&&i==4&&P>x&&P<x+h&&(J=0))}a.restore()}u=document,u.onkeydown=function(){j=.2},u.onkeyup=function(){j=0,J||(t=0,J=1)},a[f]='#111',J&&(V+=.1-j,P+=V),P<0&&(V=P=0),P>H-8&&(V=0,P=H-8),a.R(90,P,5,8),a[f]=_,J?(a.T(t+'m',10,30),t+=2+(t/1e3|0)):(a.font='30px s',a.T(t?'DISTANCE '+t+'m':'PRESS BUTTON',t?160:35,H/2))",20)</script>
	</body>
</html>
